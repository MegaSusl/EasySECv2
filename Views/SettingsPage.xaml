<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="EasySECv2.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    Title="Настройки"
    BackgroundColor="{StaticResource PageBackground}">

    <ScrollView>
        <VerticalStackLayout Spacing="24" Padding="16">

            <!-- Существующий блок: очистка таблиц -->
            <Frame BackgroundColor="{StaticResource CardBackground}"
               CornerRadius="8"
               Padding="12"
               HasShadow="True">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Выберите таблицу:"
                       FontAttributes="Bold"
                       TextColor="{StaticResource TextPrimary}" />

                    <Picker x:Name="TablesPicker"
                        Title="Таблица"
                        TextColor="{StaticResource TextPrimary}"
                        BackgroundColor="{StaticResource AccentLight}" />
                </VerticalStackLayout>
            </Frame>

            <Button Text="Удалить все записи"
                BackgroundColor="#E53935"
                TextColor="White"
                CornerRadius="6"
                Padding="12,8"
                HorizontalOptions="Center"
                Clicked="OnDeleteAllClicked" />

            <Button Text="Заполнить направления из JSON"
                BackgroundColor="{StaticResource Primary}"
                TextColor="White"
                CornerRadius="6"
                Padding="12,8"
                HorizontalOptions="Center"
                Clicked="OnSeedOrientationsClicked" />

            <!-- Новый блок: настройки batch-генерации по страницам -->
            <Frame BackgroundColor="{StaticResource CardBackground}"
               CornerRadius="8"
               Padding="12"
               HasShadow="True">
                <VerticalStackLayout Spacing="8">
                    <Label Text="Настройки генерации документов"
                   FontAttributes="Bold"
                   TextColor="{StaticResource TextPrimary}" />

                    <Picker x:Name="PagePicker"
                    Title="Страница"
                    TextColor="{StaticResource TextPrimary}"
                    BackgroundColor="{StaticResource AccentLight}"
                    SelectedIndexChanged="OnPageSelected" />

                    <HorizontalStackLayout Spacing="10"
                                   VerticalOptions="Center">
                        <Label Text="Массовая генерация"
                     VerticalOptions="Center"
                     TextColor="{StaticResource TextPrimary}" />
                        <Switch x:Name="BatchSwitch" />
                    </HorizontalStackLayout>

                    <Button Text="Сохранить настройки"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White"
                    CornerRadius="6"
                    Padding="12,8"
                    HorizontalOptions="Center"
                    Clicked="OnSavePageSettingsClicked" />
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
